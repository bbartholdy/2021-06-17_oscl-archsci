(function(g){var b=g("section.toggle"),e=[];if(!(1>b.length)){var p=function(a,n){var d=this,h=g(a),b=h.find(".toggle-label").hide(),k=b.html()||h.data("toggle-label");a=a.className.replace(/\b(toggle)\b/,"$1-trigger");var f,c,k=k.toString();f=b.text()||k;f=f.toLowerCase().replace(/\W+/g," ").trim().replace(/\s+/g,"-");c=g("\x3ca/\x3e").attr({href:"#"+f,"data-index":n,"class":a}).html(k);this.getLink=function(){return c};this.open=function(){h.show();c.addClass("active")};this.close=function(){h.hide();
c.removeClass("active")};this.isOpen=function(){return c.hasClass("active")};this.id=function(){return f};this.toggle=function(a){a&&a.preventDefault&&a.preventDefault();d.isOpen()?d.close():d.open();a=[];for(var c=0;c<e.length;c++){var b=e[c];b.isOpen()&&a.push(b.id())}history.replaceState(void 0,void 0,"#"+a.join(","))};this.scroll=function(){c.get(0).scrollIntoView()};return this},l=location.hash.replace(/^#/,"").split(","),m=!1;b.each(function(a){a=new p(this,a);a.getLink().on("click",a.toggle).insertBefore(this);
l&&-1<l.indexOf(a.id())?(a.open(),m||(a.scroll(),m=!0)):a.close();e.push(a)});g(window).on("hashchange",function(a){a=location.hash.replace(/^#/,"");for(var b in e){var d=e[b];a===d.id()&&(d.open(),d.scroll())}})}})(jQuery);